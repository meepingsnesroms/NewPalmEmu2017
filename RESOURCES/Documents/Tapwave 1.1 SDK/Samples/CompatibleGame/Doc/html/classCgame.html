<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Cgame class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>Cgame Class Reference</h1><a href="classCgame-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classCgame.html#a0">Cgame</a> (const char *gamename, int new_screen_width, int new_screen_height, int random_number_seed)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classCgame.html#a1">advance</a> (uint32 keys, int32 joystick_x, int32 joystick_y)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Advance the game one cycle.</em> <a href="#a1"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classCgame.html#a2">set_pause</a> (bool new_paused)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Pause or unpause the game.</em> <a href="#a2"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a3" doxytag="Cgame::get_pause"></a>
bool&nbsp;</td><td valign=bottom><a class="el" href="classCgame.html#a3">get_pause</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>return the current pause status</em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Private Member Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classCgame.html#c0">draw_all</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Draw everything in the view to the screen buffer.</em> <a href="#c0"></a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="o0" doxytag="Cgame::width"></a>
int&nbsp;</td><td valign=bottom><a class="el" href="classCgame.html#o0">width</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The width of the game map in tiles.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="o1" doxytag="Cgame::height"></a>
int&nbsp;</td><td valign=bottom><a class="el" href="classCgame.html#o1">height</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The height of the game map in tiles.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="o2" doxytag="Cgame::map"></a>
int *&nbsp;</td><td valign=bottom><a class="el" href="classCgame.html#o2">map</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The game map. It is allocated and initialized in the constructor.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="o3" doxytag="Cgame::name"></a>
char&nbsp;</td><td valign=bottom><a class="el" href="classCgame.html#o3">name</a> [32]</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The name of the game.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="o4" doxytag="Cgame::screen_width"></a>
int&nbsp;</td><td valign=bottom><a class="el" href="classCgame.html#o4">screen_width</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The width of the screen, and the offscreen buffer.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="o5" doxytag="Cgame::screen_height"></a>
int&nbsp;</td><td valign=bottom><a class="el" href="classCgame.html#o5">screen_height</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The height of the screen, and the offscreen buffer.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="o6" doxytag="Cgame::paused"></a>
bool&nbsp;</td><td valign=bottom><a class="el" href="classCgame.html#o6">paused</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Paused games do not advance. They do redraw though.</em></font><br><br></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classCgame.html#z1_0">view_x</a></td></tr>
<tr><td nowrap align=right valign=top><a name="z1_1" doxytag="Cgame::view_y"></a>
int&nbsp;</td><td valign=bottom><b>view_y</b></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Everything needed for a game that scrolls a map. The map is drawn into an offscreen buffer, and later the visible portion of the buffer is drawn to the screen.<p>
All functionality to run on a machine is provided by the Host API. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="Cgame::Cgame"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> Cgame::Cgame </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>new_name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>new_screen_width</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>new_screen_height</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>new_random_number_seed</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a game sized for the screen.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a1" doxytag="Cgame::advance"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int Cgame::advance </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">uint32&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>keys</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>joystick_x</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>joystick_y</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Advance the game one cycle.
<p>
This performs the normal work to advance the game. It takes the input and updates the world. It then draws the results in an offscreen buffer. The offscreen buffer is copied to the screen at the start of the next cycle. By drawing at a consistent time interval the results appear smooth. Some input latency is added because the results appear one time period after the input is taken, but it is not noticeable. <dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>keys</em>&nbsp;</td><td>
mask of keys currently pressed for this cycle </td></tr>
<tr><td valign=top><em>joystick_x</em>&nbsp;</td><td>
current joystick position </td></tr>
<tr><td valign=top><em>joystick_y</em>&nbsp;</td><td>
current joystick position </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="c0" doxytag="Cgame::draw_all"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Cgame::draw_all </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Draw everything in the view to the screen buffer.
<p>
The model is that the buffer is erased and then everything is drawn. An alternative model is to undraw the objects (by restoring saved pixels) and then drawing all again. The second is faster when the number of objects is small or the background is expensive to raw. The game could be tuned to switch between both, depending on which should be faster.     </td>
  </tr>
</table>
<a name="a2" doxytag="Cgame::set_pause"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Cgame::set_pause </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>new_pause</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Pause or unpause the game.
<p>
The effect from pausing a games is noticeable until the game advances. A paused game ignores the input, and does not advance. It only redraws. A paused game also may display a message that it is paused, or it may display a game menu.     </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="z1_0" doxytag="Cgame::view_x"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int Cgame::view_x<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The view's top left is at a fixed point offset from the top left of the screen buffer. The coordinates are 10 * tile, meaning the fraction has a range of ten and represents a portion of a tile. So 25 is halfway in the third tile.     </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="game_8cpp.html">game.cpp</a></ul>
<hr><address style="align: right;"><small>Generated on Thu Feb 27 13:15:52 2003 for CompatibleGame by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc3 </small></address>
</body>
</html>
