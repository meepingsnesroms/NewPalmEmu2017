<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 15. CFL Creation Utility</title><link rel="stylesheet" href="x-forge.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.54.1"><link rel="home" href="index.html" title="X-Forge Core 1.4.0 Guide"><link rel="up" href="pt06.html" title="Part VI. Tools"><link rel="previous" href="ch14.html" title="Chapter 14. ThinGamaJig - Particle System Editor"><link rel="next" href="ch16.html" title="Chapter 16. Profile Analyzer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#0000FF" alink="#FF0000"><div class="navbar"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 15. CFL Creation Utility</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch14.html">Prev</a> </td><th width="60%" align="center">Part VI. Tools</th><td width="20%" align="right"> <a accesskey="n" href="ch16.html">Next</a></td></tr></table></div><div class="chapter"><div class="titlepage"><div><h2 class="title"><a name="id432210"></a>Chapter 15. CFL Creation Utility</h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><a href="ch15.html#id432219">Overview</a></dt><dt><a href="ch15.html#id432114">Creating a CFL file</a></dt><dt><a href="ch15.html#id433674">Using a CFL file from an X-Forge application</a></dt></dl></div><div class="sect1"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="id432219"></a>Overview</h2></div></div><p>
A CFL file is conceptually a lot like any other compressed archive file format, such as ZIP.
CFL files can be mounted by X-Forge to appear to the application as if the files inside the CFL
are uncompressed and simply part of the normal file system. When opening a file from an X-Forge
application, the actual filesystem will be searched first - then the mounted CFL files.
</p><p>
The CFL creation utility is called <tt>makecfl.exe</tt> and
can be found in the <tt>tools</tt> directory of the X-Forge
distribution.
</p></div><div class="sect1"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="id432114"></a>Creating a CFL file</h2></div></div><p>
Creating a CFL file is a two part process. First, an <tt>.ini</tt>
is created, which determines which files you want to include in the CFL file,
using what compressions and with what filenames. Second, the <tt>.ini</tt>
file is used to actually create a <tt>.cfl</tt> file. The same <tt>.ini</tt>
file can then be used in the future to re-create the <tt>.cfl</tt> file.
</p><p>
To create the <tt>.ini</tt> file, run the <tt>makecfl</tt> utility
with the -i switch, for example like this:
</p><pre class="programlisting">
makecfl -i foo.ini
</pre><p>
This will create a file called <tt>foo.ini</tt> that includes a list
of files that will be included in the final <tt>.cfl</tt> file. You can
now edit the list manually with a text editor and change options regarding how the
file should be included into the <tt>.cfl</tt> file. You can select the compression algorithm and
encryption, but in most cases, the default values work well. You can also add or
remove files to the list.
</p><p>
To create the final <tt>.cfl</tt> file using the <tt>.ini</tt> file,
you run the <tt>makecfl</tt> utility one more time, this time with the -b switch
as shown below:
</p><pre class="programlisting">
makecfl -b foo.ini
</pre><p>
This will produce the final CFL archive file called <tt>foo.cfl</tt>, which
contains all the files specified in the foo.ini file. The file is now ready to be used from
an X-Forge application.
</p></div><div class="sect1"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="id433674"></a>Using a CFL file from an X-Forge application</h2></div></div><p>
Using CFL files from an X-Forge application is very simple. All one needs to do is
mount the file using the <tt>XFcCore::openCFL()</tt>. After this, all
file operations can be performed as normal, as if the file was in the actual file
system.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
Opening a file from a CFL causes the entire file to be uncompressed, which causes a
memory peak for as long as the file is open. It is thus a good idea to close files
as soon as they are no longer needed.
</p></div></div></div><div class="navbar"><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch14.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="pt06.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch16.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 14. ThinGamaJig - Particle System Editor </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 16. Profile Analyzer</td></tr></table></div><div align="center" style="padding-top: 5px;"><table><tr><td align="left"><a href="http://www.fathammer.com/"><img src="images/fathammer_logo.gif" border="0"></a></td><td>&nbsp; &nbsp; &nbsp; &nbsp;</td><td align="center" class="copyright">
                X-Forge Documentation<br>
                Confidential<br>
                Copyright &copy; 2003 Fathammer<br></td></tr></table></div></body></html>
