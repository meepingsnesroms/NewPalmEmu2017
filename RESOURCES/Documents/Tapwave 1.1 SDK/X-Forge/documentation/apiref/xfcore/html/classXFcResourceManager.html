<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>XFcResourceManager class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc3 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>XFcResourceManager Class Reference</h1>Resource manager. 
<a href="#_details">More...</a>
<p>
<a href="classXFcResourceManager-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>XFCIMPORT <a class="el" href="XFcConfig_8h.html#a29">INT32</a>&nbsp;</td><td valign=bottom><a class="el" href="classXFcResourceManager.html#d0">createResource</a> (<a class="el" href="classXFcResource.html">XFcResource</a> *aCallback, const <a class="el" href="XFcConfig_8h.html#a33">UINT32</a> aSize)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Creates a new resource with the default resource type.</em> <a href="#d0"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>XFCIMPORT <a class="el" href="XFcConfig_8h.html#a29">INT32</a>&nbsp;</td><td valign=bottom><a class="el" href="classXFcResourceManager.html#d1">createResource</a> (<a class="el" href="classXFcResource.html">XFcResource</a> *aCallback, const <a class="el" href="XFcConfig_8h.html#a33">UINT32</a> aSize, const <a class="el" href="XFcConfig_8h.html#a33">UINT32</a> aFlags)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Creates a new resource with the given resource type.</em> <a href="#d1"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>XFCIMPORT <a class="el" href="XFcConfig_8h.html#a37">INT</a>&nbsp;</td><td valign=bottom><a class="el" href="classXFcResourceManager.html#d2">removeResource</a> (const <a class="el" href="XFcConfig_8h.html#a29">INT32</a> aId)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Removes a resource.</em> <a href="#d2"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>XFCIMPORT void&nbsp;</td><td valign=bottom><a class="el" href="classXFcResourceManager.html#d3">removeResources</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Removes all resources which are removable.</em> <a href="#d3"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>XFCIMPORT <a class="el" href="XFcConfig_8h.html#a37">INT</a>&nbsp;</td><td valign=bottom><a class="el" href="classXFcResourceManager.html#d4">queryResource</a> (const <a class="el" href="XFcConfig_8h.html#a29">INT32</a> aId)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Queries whether a certain resource is available in memory.</em> <a href="#d4"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>XFCIMPORT <a class="el" href="XFcConfig_8h.html#a37">INT</a>&nbsp;</td><td valign=bottom><a class="el" href="classXFcResourceManager.html#d5">evictResource</a> (const <a class="el" href="XFcConfig_8h.html#a29">INT32</a> aId)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Evicts the data of a resource.</em> <a href="#d5"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>XFCIMPORT void&nbsp;</td><td valign=bottom><a class="el" href="classXFcResourceManager.html#d6">evictResources</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Evicts all resources from memory which are removable.</em> <a href="#d6"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>XFCIMPORT <a class="el" href="XFcConfig_8h.html#a37">INT</a>&nbsp;</td><td valign=bottom><a class="el" href="classXFcResourceManager.html#d7">preloadResource</a> (const <a class="el" href="XFcConfig_8h.html#a29">INT32</a> aId)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Preloads the data of a resource to memory.</em> <a href="#d7"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>XFCIMPORT void&nbsp;</td><td valign=bottom><a class="el" href="classXFcResourceManager.html#d8">preloadResources</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Tries to preload data of all resources to memory.</em> <a href="#d8"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>XFCIMPORT void *&nbsp;</td><td valign=bottom><a class="el" href="classXFcResourceManager.html#d9">lockResource</a> (const <a class="el" href="XFcConfig_8h.html#a29">INT32</a> aId)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Locks a resource for use.</em> <a href="#d9"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>XFCIMPORT <a class="el" href="XFcConfig_8h.html#a37">INT</a>&nbsp;</td><td valign=bottom><a class="el" href="classXFcResourceManager.html#d10">unlockResource</a> (const <a class="el" href="XFcConfig_8h.html#a29">INT32</a> aId)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Unlocks a resource.</em> <a href="#d10"></a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Resource manager.
<p>
<hr><h2>Member Function Documentation</h2>
<a name="d1" doxytag="XFcResourceManager::createResource"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> XFCIMPORT <a class="el" href="XFcConfig_8h.html#a29">INT32</a> XFcResourceManager::createResource </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classXFcResource.html">XFcResource</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>aCallback</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="XFcConfig_8h.html#a33">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>aSize</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="XFcConfig_8h.html#a33">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>aFlags</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new resource with the given resource type.
<p>
Creates a new resource whose type is determined by the given flags. <dl compact><dt><b></b></dt><dd>Different resource types are: <ul>
<li>Default: resource can be moved and removed. </li>
<li>Non-removable: resource can be moved for defragmentation but can not be removed. </li>
<li>Non-movable: resource can not be moved nor removed, user might have a direct pointer to data.</li>
</ul>
</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>aCallback</em>&nbsp;</td><td>Pointer to the resource to be used when callback is needed. </td></tr>
    <tr><td valign=top><em>aSize</em>&nbsp;</td><td>Size of memory which should be allocated to the resource in bytes. </td></tr>
    <tr><td valign=top><em>aFlags</em>&nbsp;</td><td>Flags for resource type.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Resource id, or -1 in case of an error. </dd></dl>
    </td>
  </tr>
</table>
<a name="d0" doxytag="XFcResourceManager::createResource"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> XFCIMPORT <a class="el" href="XFcConfig_8h.html#a29">INT32</a> XFcResourceManager::createResource </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classXFcResource.html">XFcResource</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>aCallback</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="XFcConfig_8h.html#a33">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>aSize</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new resource with the default resource type.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>aCallback</em>&nbsp;</td><td>Pointer to the resource to be used when callback is needed. </td></tr>
    <tr><td valign=top><em>aSize</em>&nbsp;</td><td>Size of memory which should be allocated to the resource in bytes.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Resource id, or -1 in case of an error. </dd></dl>
    </td>
  </tr>
</table>
<a name="d5" doxytag="XFcResourceManager::evictResource"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> XFCIMPORT <a class="el" href="XFcConfig_8h.html#a37">INT</a> XFcResourceManager::evictResource </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="XFcConfig_8h.html#a29">INT32</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>aId</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Evicts the data of a resource.
<p>
Frees the internal data of a resource, the resource header stays in memory. The internal data will be loaded into memory when the resource is being locked or it can be loaded into memory with the <a class="el" href="classXFcResourceManager.html#d7">preloadResource()</a>-function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>aId</em>&nbsp;</td><td>Resource id.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>1 if the evict succeeds, 0 otherwise. </dd></dl>
    </td>
  </tr>
</table>
<a name="d6" doxytag="XFcResourceManager::evictResources"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> XFCIMPORT void XFcResourceManager::evictResources </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Evicts all resources from memory which are removable.
<p>
Frees the internal data of all resources, the resource headers stay in memory. The internal data will be loaded into memory when the resource is being locked or it can be loaded into memory with the <a class="el" href="classXFcResourceManager.html#d7">preloadResource()</a>-function.     </td>
  </tr>
</table>
<a name="d9" doxytag="XFcResourceManager::lockResource"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> XFCIMPORT void* XFcResourceManager::lockResource </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="XFcConfig_8h.html#a29">INT32</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>aId</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Locks a resource for use.
<p>
Locks a resource so that it can not be moved nor removed while the lock is on. If the internal data of a resource is not present in memory, a callback is made to the resource so it will be loaded into memory again.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>aId</em>&nbsp;</td><td>Resource id.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Pointer to the internal data of a resource, NULL if the resource can not be locked. </dd></dl>
    </td>
  </tr>
</table>
<a name="d7" doxytag="XFcResourceManager::preloadResource"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> XFCIMPORT <a class="el" href="XFcConfig_8h.html#a37">INT</a> XFcResourceManager::preloadResource </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="XFcConfig_8h.html#a29">INT32</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>aId</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Preloads the data of a resource to memory.
<p>
Loads the internal data of a resource into memory. The actual implementation is just a lock and unlock of the resource.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>aId</em>&nbsp;</td><td>Resource id</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>1 if preload succeeds, 0 otherwise </dd></dl>
    </td>
  </tr>
</table>
<a name="d8" doxytag="XFcResourceManager::preloadResources"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> XFCIMPORT void XFcResourceManager::preloadResources </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tries to preload data of all resources to memory.
<p>
Tries to load the internal data of all resources into memory.     </td>
  </tr>
</table>
<a name="d4" doxytag="XFcResourceManager::queryResource"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> XFCIMPORT <a class="el" href="XFcConfig_8h.html#a37">INT</a> XFcResourceManager::queryResource </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="XFcConfig_8h.html#a29">INT32</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>aId</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Queries whether a certain resource is available in memory.
<p>
Queries whether the internal data of a resource is present in memory. The resource headers stay in memory until the <a class="el" href="classXFcResourceManager.html#d2">removeResource()</a>-function is called but the internal data might not be if it has been evicted temporarily to free memory.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>aId</em>&nbsp;</td><td>Resource id.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>1 if the internal data of a resource is present in memory, 0 otherwise. </dd></dl>
    </td>
  </tr>
</table>
<a name="d2" doxytag="XFcResourceManager::removeResource"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> XFCIMPORT <a class="el" href="XFcConfig_8h.html#a37">INT</a> XFcResourceManager::removeResource </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="XFcConfig_8h.html#a29">INT32</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>aId</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Removes a resource.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>aId</em>&nbsp;</td><td>Resource id.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>1 if the removal succeeds, 0 otherwise. </dd></dl>
    </td>
  </tr>
</table>
<a name="d3" doxytag="XFcResourceManager::removeResources"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> XFCIMPORT void XFcResourceManager::removeResources </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Removes all resources which are removable.
<p>
    </td>
  </tr>
</table>
<a name="d10" doxytag="XFcResourceManager::unlockResource"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> XFCIMPORT <a class="el" href="XFcConfig_8h.html#a37">INT</a> XFcResourceManager::unlockResource </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="XFcConfig_8h.html#a29">INT32</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>aId</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Unlocks a resource.
<p>
Unlocks a resource so it can be moved or removed again if needed. The call will fail if the resource id is not valid or the resource is not locked in the first place.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>aId</em>&nbsp;</td><td>Resource id.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>1 if unlock succeeds, 0 otherwise. </dd></dl>
    </td>
  </tr>
</table>
<br clear=all>
<center><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=5><img src="paleblue.gif" width=600 height=1></td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;</td><td><a href="http://www.fathammer.com/"><img src="logo.gif" border=0></a></td>
<td valign=bottom><center><font face="arial, helvetica" size="-2" color="#003366">X-Forge Documentation<br>Confidential<br>Copyright &copy; 2002-2003 Fathammer</font></center></td><td>&nbsp;&nbsp;&nbsp;</td>
<td valign=bottom><center><font face="arial, helvetica" size="-2" color="#003366">Documentation generated<br>with <a href="http://www.doxygen.org/index.html">doxygen</a><br>by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a></font></center></td></tr></table>
</body></html>
