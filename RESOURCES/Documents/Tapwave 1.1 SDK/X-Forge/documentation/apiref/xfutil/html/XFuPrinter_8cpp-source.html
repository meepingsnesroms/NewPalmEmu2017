<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>XFuPrinter.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc3 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>XFuPrinter.cpp</h1><a href="XFuPrinter_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/*! \file</span>
00002 <span class="comment"> * X-Forge Util &lt;br&gt;</span>
00003 <span class="comment"> * Copyright 2000-2003 Fathammer Ltd</span>
00004 <span class="comment"> *</span>
00005 <span class="comment"> * \brief Primitive bitmap font printer class.</span>
00006 <span class="comment"> * Needs some work (create instead of init; gl sprites instead</span>
00007 <span class="comment"> * of the glsurface drawing currently in use.</span>
00008 <span class="comment"> *</span>
00009 <span class="comment"> * $Id: XFuPrinter.cpp,v 1.30 2003/08/12 13:34:08 lars Exp $</span>
00010 <span class="comment"> * $Date: 2003/08/12 13:34:08 $</span>
00011 <span class="comment"> * $Revision: 1.30 $</span>
00012 <span class="comment"> */</span>
00013 
00014 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
00015 <span class="preprocessor">#include &lt;xfcore/XFcCore.h&gt;</span>
00016 <span class="preprocessor">#include &lt;<a class="code" href="XFuPrinter_8h.html">xfutil/XFuPrinter.h</a>&gt;</span>
00017 <span class="preprocessor">#include &lt;xfcore/XFcPixelConverter.h&gt;</span>
00018 
<a name="l00019"></a><a class="code" href="XFuPrinter_8cpp.html#a0">00019</a> <span class="preprocessor">#define TORGB16(r,g,b) (unsigned short)(((((r) &gt;&gt; 3) &amp; 0x1f) &lt;&lt; 11) | ((((g) &gt;&gt; 3) &amp; 0x1f) &lt;&lt; 6) | ((((b) &gt;&gt; 3) &amp; 0x1f)))</span>
00020 <span class="preprocessor"></span>
<a name="l00021"></a><a class="code" href="classXFuPrinter.html#d0">00021</a> <a class="code" href="classXFuPrinter.html">XFuPrinter</a> * <a class="code" href="classXFuPrinter.html#d0">XFuPrinter::create</a>(<span class="keyword">const</span> CHAR *aFname)
00022 {
00023     <span class="keywordflow">return</span> <a class="code" href="classXFuPrinter.html#d0">create</a>(aFname,0,REALi(1),REALi(1));
00024 }
00025 
<a name="l00026"></a><a class="code" href="classXFuPrinter.html#d1">00026</a> <a class="code" href="classXFuPrinter.html">XFuPrinter</a> * <a class="code" href="classXFuPrinter.html#d0">XFuPrinter::create</a>(<span class="keyword">const</span> CHAR *aFname, INT32 aAlphamask)
00027 {
00028     <span class="keywordflow">return</span> <a class="code" href="classXFuPrinter.html#d0">create</a>(aFname,aAlphamask,REALi(1),REALi(1));
00029 }
00030 
<a name="l00031"></a><a class="code" href="classXFuPrinter.html#d2">00031</a> <a class="code" href="classXFuPrinter.html">XFuPrinter</a> * <a class="code" href="classXFuPrinter.html#d0">XFuPrinter::create</a>(<span class="keyword">const</span> CHAR *aFname, INT32 aAlphamask, REAL aXScale, REAL aYScale)
00032 {
00033     INT32 wid, ht;
00034     UINT8 *pal;
00035     UINT16 *pal16;
00036     UINT8 *pic;
00037     INT32 i;
00038     INT paletted;
00039 
00040     UINT16 alphamask = (UINT16)(XFCPC_X888_TO_55X5(aAlphamask));
00041 
00042     XFcImageLoader::loadImageInfo(aFname, &amp;wid, &amp;ht, NULL, &amp;paletted);
00043 
00044     <span class="keywordflow">if</span> (!paletted) <span class="keywordflow">return</span> NULL; <span class="comment">// TODO: create non-paletted version too</span>
00045     <span class="keywordflow">if</span> (wid == 0) <span class="keywordflow">return</span> NULL;
00046 
00047     XFcImageLoader::loadImagePaletted(aFname, &amp;pal, &amp;pic);
00048     <span class="keywordflow">if</span> (pal == NULL || pic == NULL)
00049     {
00050         <span class="keyword">delete</span>[] pic;
00051         <span class="keyword">delete</span>[] pal;
00052         <span class="keywordflow">return</span> NULL;
00053     }
00054 
00055     pal16 = <span class="keyword">new</span> UINT16[256];
00056     <span class="keywordflow">for</span> (i = 0; i &lt; 256; ++i)
00057         pal16[i] = <a class="code" href="XFuPrinter_8cpp.html#a0">TORGB16</a>(pal[i * 3 + 0], pal[i * 3 + 1], pal[i * 3 + 2]);
00058 
00059     <a class="code" href="classXFuPrinter.html">XFuPrinter</a> *p = <span class="keyword">new</span> <a class="code" href="classXFuPrinter.html#b0">XFuPrinter</a>();
00060 
00061     p-&gt;<a class="code" href="classXFuPrinter.html#n2">mLetterSpacing</a> = 2; <span class="comment">// default letter spacing</span>
00062 
00063     p-&gt;<a class="code" href="classXFuPrinter.html#n0">mMaxletter</a> = ht / wid;
00064     p-&gt;<a class="code" href="classXFuPrinter.html#n1">mLetter</a> = <span class="keyword">new</span> XFcGLSurface *[p-&gt;<a class="code" href="classXFuPrinter.html#n0">mMaxletter</a>];
00065     <span class="keywordflow">for</span> (i = 0; i &lt; p-&gt;<a class="code" href="classXFuPrinter.html#n0">mMaxletter</a>; ++i)
00066     {
00067         INT32 j, l;
00068         <span class="keywordtype">int</span> letterofs = i * wid * wid;
00069         INT32 ls = wid, rs = 0;
00070         <span class="keywordflow">for</span> (j = 0, l = 0; j &lt; wid; ++j)
00071         {
00072             INT32 k;
00073             <span class="keywordflow">for</span> (k = 0; k &lt; wid; ++k, ++l)
00074             {
00075                 <span class="keywordtype">int</span> c = pal16[pic[letterofs + l] &amp; 0xff];
00076                 <span class="keywordflow">if</span> (c == alphamask)
00077                 {
00078                 }
00079                 <span class="keywordflow">else</span>
00080                 {
00081                     <span class="keywordflow">if</span> (rs &lt; k) rs = k;
00082                     <span class="keywordflow">if</span> (ls &gt; k) ls = k;
00083                 }
00084             }
00085         }
00086         <span class="keywordtype">int</span> charwid = rs - ls + 1;
00087         <span class="keywordflow">if</span> (charwid &lt; 0)
00088         {
00089             charwid = 0; <span class="comment">// empty character</span>
00090             p-&gt;<a class="code" href="classXFuPrinter.html#n1">mLetter</a>[i] = NULL;
00091         }
00092         <span class="keywordflow">else</span>
00093         {
00094             XFcGLSurface *tSurface;
00095             tSurface = XFcGLSurface::create(charwid, wid);
00096             <span class="keywordtype">short</span> *fb;
00097             tSurface-&gt;lock((<span class="keywordtype">void</span> **)&amp;fb);
00098             rs = wid - charwid;
00099             <span class="keywordtype">int</span> m = 0, k;
00100             <span class="keywordflow">for</span> (j = 0, l = ls; j &lt; wid; ++j, l += rs)
00101             {
00102                 <span class="keywordflow">for</span> (k = 0; k &lt; charwid; ++k,++l,++m)
00103                 {
00104                     <span class="keywordtype">int</span> c = pal16[pic[letterofs + l] &amp; 0xff];
00105                     fb[m] = (INT16)c;
00106                 }
00107             }
00108             tSurface-&gt;unlock();
00109 
00110             <span class="keywordflow">if</span> (aXScale != REALi(1) || aYScale != REALi(1))
00111             {
00112                 INT32 w = (INT32)(aXScale * (REAL)charwid);
00113                 INT32 h = (INT32)(aYScale * (REAL)wid);
00114                 XFcGLSurface *tSurface2 = XFcGLSurface::create(w,h);
00115                 <span class="keywordflow">if</span> (tSurface2)
00116                 {
00117                     tSurface2-&gt;drawImage(tSurface,0,0,w,h);
00118                     <span class="keyword">delete</span> tSurface;
00119                     tSurface = tSurface2;
00120                 }
00121             }
00122 
00123             p-&gt;<a class="code" href="classXFuPrinter.html#n1">mLetter</a>[i] = tSurface;
00124             p-&gt;<a class="code" href="classXFuPrinter.html#n1">mLetter</a>[i]-&gt;setColorKey(aAlphamask);
00125             p-&gt;<a class="code" href="classXFuPrinter.html#n1">mLetter</a>[i]-&gt;enableColorKey(1);
00126         }
00127     }
00128 
00129     p-&gt;<a class="code" href="classXFuPrinter.html#n3">mLineSpacing</a> = (INT32)(aXScale * (REAL)wid);
00130     p-&gt;<a class="code" href="classXFuPrinter.html#n4">mLineHeight</a> = (INT32)(aYScale * (REAL)wid);
00131 
00132     <span class="keywordflow">if</span> (p-&gt;<a class="code" href="classXFuPrinter.html#n1">mLetter</a>[<span class="charliteral">'0'</span> - 33])
00133         p-&gt;<a class="code" href="classXFuPrinter.html#n5">mSpaceWidth</a> = p-&gt;<a class="code" href="classXFuPrinter.html#n1">mLetter</a>[<span class="charliteral">'0'</span> - 33]-&gt;getWidth() / 2;
00134     <span class="keywordflow">else</span>
00135         p-&gt;<a class="code" href="classXFuPrinter.html#n5">mSpaceWidth</a> = p-&gt;<a class="code" href="classXFuPrinter.html#n4">mLineHeight</a> / 2;
00136 
00137     <span class="keyword">delete</span>[] pic;
00138     <span class="keyword">delete</span>[] pal;
00139     <span class="keyword">delete</span>[] pal16;
00140     <span class="keywordflow">return</span> p;
00141 
00142 }
00143 
00144 
<a name="l00145"></a><a class="code" href="classXFuPrinter.html#a1">00145</a> INT32 <a class="code" href="classXFuPrinter.html#a0">XFuPrinter::print</a>(XFcGLSurface *aTarget, XFcRectangle *aTargetRect, <span class="keyword">const</span> CHAR *aText,
00146                         INT32 aBlendType, INT32 aBlendValue, XFcRectangle *aClipRect)
00147 {
00148     XFCASSERT(aTarget);
00149 
00150     XFcRectangle rect;
00151 
00152     <span class="keywordflow">if</span> (aTargetRect == NULL)
00153     {
00154         rect.mX = 0;
00155         rect.mY = 0;
00156         rect.mWidth = aTarget-&gt;getWidth();
00157         rect.mHeight = aTarget-&gt;getHeight();
00158     }
00159     <span class="keywordflow">else</span>
00160     {
00161         rect = *aTargetRect;
00162     }
00163 
00164     <span class="comment">// Find longest word</span>
00165     INT32 i, j, longest = 0;
00166     i = 0;
00167     j = 0;
00168     <span class="keywordflow">while</span> (aText[i] != 0)
00169     {
00170         i++;
00171         j++;
00172         <span class="keywordflow">if</span> (aText[i] == <span class="charliteral">' '</span>)
00173         {
00174             <span class="keywordflow">if</span> (longest &lt; j)
00175                 longest = j;
00176             j = 0;
00177         }
00178     }
00179 
00180     <span class="keywordflow">if</span> (longest &lt; j)
00181         longest = j;
00182 
00183     CHAR * temp = <span class="keyword">new</span> CHAR[longest + 1];
00184 
00185     <span class="keywordflow">if</span> (temp == NULL)
00186         <span class="keywordflow">return</span> 0;
00187     
00188     INT32 ofsx, ofsy;
00189     ofsx = rect.mX;
00190     ofsy = rect.mY;
00191     i = 0;
00192     <span class="keywordflow">do</span>
00193     {
00194         <span class="keywordflow">if</span> (aText[i] == <span class="charliteral">' '</span>)
00195         {
00196             <span class="comment">// Only advance cursor if not at the start of line.</span>
00197             <span class="keywordflow">if</span> (ofsx != rect.mX)
00198             {
00199                 ofsx += <a class="code" href="classXFuPrinter.html#n5">mSpaceWidth</a> + <a class="code" href="classXFuPrinter.html#n2">mLetterSpacing</a>;
00200             }
00201             i++;
00202         }
00203         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (aText[i] == <span class="charliteral">'\n'</span>)
00204         {
00205             ofsx = rect.mX;
00206             ofsy += <a class="code" href="classXFuPrinter.html#n3">mLineSpacing</a>;
00207             i++;
00208         }
00209         <span class="keywordflow">else</span>
00210         {
00211             j = 0;
00212             <span class="keywordflow">while</span> (aText[i] != 0 &amp;&amp; aText[i] != <span class="charliteral">' '</span> &amp;&amp; aText[i] != <span class="charliteral">'\n'</span>)
00213             {
00214                 temp[j] = aText[i];
00215                 i++;
00216                 j++;
00217             }
00218             temp[j] = 0;
00219 
00220             INT32 tx, ty;
00221             <a class="code" href="classXFuPrinter.html#a2">stringMetrics</a>(temp, tx, ty);
00222 
00223             <span class="keywordflow">if</span> (tx + ofsx &gt; (rect.mX + rect.mWidth) &amp;&amp; ofsx != rect.mX)
00224             {
00225                 ofsx = rect.mX;
00226                 ofsy += <a class="code" href="classXFuPrinter.html#n3">mLineSpacing</a>;
00227             }
00228 
00229             <a class="code" href="classXFuPrinter.html#a0">print</a>(aTarget, ofsx, ofsy, temp, aBlendType, aBlendValue, aClipRect);
00230 
00231             ofsx += tx;
00232         }
00233 
00234     }
00235     <span class="keywordflow">while</span> (aText[i] != 0);
00236 
00237     <span class="keyword">delete</span>[] temp;
00238     
00239     <span class="keywordflow">return</span> ofsy - rect.mY + <a class="code" href="classXFuPrinter.html#n4">mLineHeight</a>;
00240 }
00241 
00242 
<a name="l00243"></a><a class="code" href="classXFuPrinter.html#a0">00243</a> <span class="keywordtype">void</span> <a class="code" href="classXFuPrinter.html#a0">XFuPrinter::print</a>(XFcGLSurface *aTarget, INT32 aX, INT32 aY, <span class="keyword">const</span> CHAR *aText,
00244                        INT32 aBlendType, INT32 aBlendValue, XFcRectangle *aClipRect)
00245 {
00246     <span class="keywordflow">if</span> ((aTarget != NULL) &amp;&amp; (aText != NULL))
00247     {
00248         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *p = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)aText;
00249         <span class="keywordtype">int</span> xo = 0;
00250         INT32 i;
00251 
00252         INT32 yMax = 0, xMax = 0;
00253         INT32 h = <a class="code" href="classXFuPrinter.html#n4">mLineHeight</a>;
00254 
00255         <span class="keywordflow">if</span> (aClipRect)
00256         {
00257             yMax = aClipRect-&gt;mY + aClipRect-&gt;mHeight;
00258             xMax = aClipRect-&gt;mX + aClipRect-&gt;mWidth;
00259         }
00260 
00261         <span class="keywordflow">while</span> (*p)
00262         {
00263             <span class="keywordflow">if</span> (*p == 32)
00264             {
00265                 xo += <a class="code" href="classXFuPrinter.html#n5">mSpaceWidth</a> + <a class="code" href="classXFuPrinter.html#n2">mLetterSpacing</a>;
00266             }
00267             <span class="keywordflow">else</span>
00268             {
00269                 <span class="keywordflow">if</span> (*p == <span class="charliteral">'\n'</span>)
00270                 {
00271                     xo = 0;
00272                     aY += <a class="code" href="classXFuPrinter.html#n3">mLineSpacing</a>;
00273                 }
00274                 <span class="keywordflow">else</span>
00275                 {
00276                     i = ((UINT8)*p) - 33;
00277                     <span class="keywordflow">if</span> (i &gt;= 0 &amp;&amp; i &lt; <a class="code" href="classXFuPrinter.html#n0">mMaxletter</a>)
00278                     {
00279                         <span class="keywordflow">if</span> (<a class="code" href="classXFuPrinter.html#n1">mLetter</a>[i] != NULL)
00280                         {
00281                             INT32 w = <a class="code" href="classXFuPrinter.html#n1">mLetter</a>[i]-&gt;getWidth();
00282                             INT32 xp = aX + xo;
00283                             <span class="keywordflow">if</span> (aClipRect == NULL)
00284                             {
00285                                 aTarget-&gt;drawImageBlend(
00286                                     mLetter[i], xp, aY,
00287                                     aBlendType, aBlendValue);
00288                             }
00289                             <span class="keywordflow">else</span>
00290                             {
00291                                 XFcRectangle srcRect;
00292                                 srcRect.mX = aClipRect-&gt;mX - xp;
00293                                 srcRect.mY = aClipRect-&gt;mY - aY;
00294                                 INT32 endX = xMax - xp;
00295                                 INT32 endY = yMax - aY;
00296 
00297                                 <span class="keywordflow">if</span> (srcRect.mX &lt; w &amp;&amp; endX &gt;= 0 &amp;&amp;
00298                                     srcRect.mY &lt; h &amp;&amp; endY &gt;= 0)
00299                                 {
00300                                     <span class="keywordflow">if</span> (srcRect.mX &lt; 0) srcRect.mX = 0;
00301                                     <span class="keywordflow">if</span> (srcRect.mY &lt; 0) srcRect.mY = 0;
00302                                     <span class="keywordflow">if</span> (endX &gt; w) endX = w;
00303                                     <span class="keywordflow">if</span> (endY &gt; h) endY = h;
00304                                     srcRect.mWidth = endX - srcRect.mX;
00305                                     srcRect.mHeight = endY - srcRect.mY;
00306                                     aTarget-&gt;drawImageBlend(
00307                                         mLetter[i], xp + srcRect.mX, aY + srcRect.mY, srcRect,
00308                                         aBlendType, aBlendValue);
00309                                 }
00310                             }
00311                             xo += w;
00312                         }
00313                         xo += <a class="code" href="classXFuPrinter.html#n2">mLetterSpacing</a>;
00314                     }
00315                 }
00316             }
00317             ++p;
00318         }
00319     }
00320 }
00321 
00322 
<a name="l00323"></a><a class="code" href="classXFuPrinter.html#a2">00323</a> <span class="keywordtype">void</span> <a class="code" href="classXFuPrinter.html#a2">XFuPrinter::stringMetrics</a>(<span class="keyword">const</span> CHAR *aText, INT32 &amp;aWidth, INT32 &amp;aHeight)
00324 {
00325     <span class="keywordflow">if</span> (<span class="keyword">this</span> == NULL) <span class="keywordflow">return</span>;
00326     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *p = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)aText;
00327     <span class="keywordtype">int</span> xo = 0, y = 0;
00328     <span class="keywordtype">int</span> maxx = 0;
00329     INT32 i;
00330     <span class="keywordflow">while</span> (*p)
00331     {
00332         <span class="keywordflow">if</span> (*p == 32)
00333         {
00334             xo += <a class="code" href="classXFuPrinter.html#n5">mSpaceWidth</a>;
00335             <span class="keywordflow">if</span> (maxx &lt; xo) maxx = xo;
00336             xo += <a class="code" href="classXFuPrinter.html#n2">mLetterSpacing</a>;
00337         }
00338         <span class="keywordflow">else</span>
00339         {
00340             <span class="keywordflow">if</span> (*p == <span class="charliteral">'\n'</span>)
00341             {
00342                 xo = 0;
00343                 y += <a class="code" href="classXFuPrinter.html#n3">mLineSpacing</a>;
00344             }
00345             <span class="keywordflow">else</span>
00346             {
00347                 i = ((UINT8)*p) - 33;
00348                 <span class="keywordflow">if</span> ( i &gt;= 0 &amp;&amp; i &lt; <a class="code" href="classXFuPrinter.html#n0">mMaxletter</a> )
00349                 {
00350                     <span class="keywordflow">if</span> (<a class="code" href="classXFuPrinter.html#n1">mLetter</a>[i])
00351                         xo += <a class="code" href="classXFuPrinter.html#n1">mLetter</a>[i]-&gt;getWidth();
00352                     <span class="keywordflow">if</span> (maxx &lt; xo) maxx = xo;
00353                     xo += <a class="code" href="classXFuPrinter.html#n2">mLetterSpacing</a>;
00354                 }
00355             }
00356         }
00357 
00358         ++p;
00359 
00360     }
00361     y += <a class="code" href="classXFuPrinter.html#n4">mLineHeight</a>;
00362     aHeight = y;
00363     aWidth = maxx;
00364 }
00365 
00366 
<a name="l00367"></a><a class="code" href="classXFuPrinter.html#a3">00367</a> INT32 <a class="code" href="classXFuPrinter.html#a3">XFuPrinter:: getCharWidth</a>(CHAR aChar)
00368 {
00369     INT32 i = (INT32)(((UINT8)aChar) - 33);
00370     <span class="keywordflow">if</span> (aChar == 32)
00371         <span class="keywordflow">return</span> <a class="code" href="classXFuPrinter.html#n5">mSpaceWidth</a>;
00372     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i &lt; 0 || i &gt;= <a class="code" href="classXFuPrinter.html#n0">mMaxletter</a> || <a class="code" href="classXFuPrinter.html#n1">mLetter</a>[i] == NULL)
00373         <span class="keywordflow">return</span> 0;
00374     <span class="keywordflow">else</span>
00375         <span class="keywordflow">return</span> <a class="code" href="classXFuPrinter.html#n1">mLetter</a>[i]-&gt;getWidth();
00376 }
00377 
00378 
<a name="l00379"></a><a class="code" href="classXFuPrinter.html#a5">00379</a> <span class="keywordtype">void</span> <a class="code" href="classXFuPrinter.html#a5">XFuPrinter::setLetterSpacing</a>(INT32 aSpacing)
00380 {
00381     <a class="code" href="classXFuPrinter.html#n2">mLetterSpacing</a> = aSpacing;
00382 }
00383 
00384 
<a name="l00385"></a><a class="code" href="classXFuPrinter.html#a6">00385</a> INT32 <a class="code" href="classXFuPrinter.html#a6">XFuPrinter::getLetterSpacing</a>()
00386 {
00387     <span class="keywordflow">return</span> <a class="code" href="classXFuPrinter.html#n2">mLetterSpacing</a>;
00388 }
00389 
00390 
<a name="l00391"></a><a class="code" href="classXFuPrinter.html#a7">00391</a> <span class="keywordtype">void</span> <a class="code" href="classXFuPrinter.html#a7">XFuPrinter::setLineSpacing</a>(INT32 aSpacing)
00392 {
00393     <a class="code" href="classXFuPrinter.html#n3">mLineSpacing</a> = aSpacing;
00394 }
00395 
00396 
<a name="l00397"></a><a class="code" href="classXFuPrinter.html#a8">00397</a> INT32 <a class="code" href="classXFuPrinter.html#a8">XFuPrinter::getLineSpacing</a>()
00398 {
00399     <span class="keywordflow">return</span> <a class="code" href="classXFuPrinter.html#n3">mLineSpacing</a>;
00400 }
00401 
00402 
<a name="l00403"></a><a class="code" href="classXFuPrinter.html#a9">00403</a> INT32 <a class="code" href="classXFuPrinter.html#a9">XFuPrinter::getLineHeight</a>()
00404 {
00405     <span class="keywordflow">return</span> <a class="code" href="classXFuPrinter.html#n4">mLineHeight</a>;
00406 }
00407 
00408 
<a name="l00409"></a><a class="code" href="classXFuPrinter.html#a4">00409</a> <span class="keywordtype">void</span> <a class="code" href="classXFuPrinter.html#a4">XFuPrinter::setSpaceWidth</a>(INT32 aSpacing)
00410 {
00411     <a class="code" href="classXFuPrinter.html#n5">mSpaceWidth</a> = aSpacing;
00412 }
00413 
00414 
<a name="l00415"></a><a class="code" href="classXFuPrinter.html#a10">00415</a> <a class="code" href="classXFuPrinter.html#a10">XFuPrinter::~XFuPrinter</a>()
00416 {
00417     <span class="keywordtype">int</span> i;
00418     <span class="keywordflow">if</span> (mLetter)
00419     {
00420         <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="classXFuPrinter.html#n0">mMaxletter</a>; ++i)
00421             <span class="keyword">delete</span> <a class="code" href="classXFuPrinter.html#n1">mLetter</a>[i];
00422     }
00423     <span class="keyword">delete</span>[] <a class="code" href="classXFuPrinter.html#n1">mLetter</a>;
00424 }
00425 
00426 
<a name="l00427"></a><a class="code" href="classXFuPrinter.html#b0">00427</a> <a class="code" href="classXFuPrinter.html#b0">XFuPrinter::XFuPrinter</a>()
00428 {
00429     <a class="code" href="classXFuPrinter.html#n1">mLetter</a> = NULL;
00430 }
00431 
</pre></div><br clear=all>
<center><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=5><img src="paleblue.gif" width=600 height=1></td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;</td><td><a href="http://www.fathammer.com/"><img src="logo.gif" border=0></a></td>
<td valign=bottom><center><font face="arial, helvetica" size="-2" color="#003366">X-Forge Documentation<br>Confidential<br>Copyright &copy; 2002-2003 Fathammer</font></center></td><td>&nbsp;&nbsp;&nbsp;</td>
<td valign=bottom><center><font face="arial, helvetica" size="-2" color="#003366">Documentation generated<br>with <a href="http://www.doxygen.org/index.html">doxygen</a><br>by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a></font></center></td></tr></table>
</body></html>
